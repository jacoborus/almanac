!function(){"use strict";var e,t,a,n,r,o,i,d,c,l,s,h,u,m,f,p,y,b,g,w,v,k,M,E,N,D,x,C,A,H,L,T,j={},I={};D=function(e,t){var a;for(a in e)return C(e[a],t)?!0:!1},C=function(e,t){return H(e.limit,t)?!0:A(e.pattern,t)?!0:x(e.matchProp,t)?!0:!1},x=function(e,t){var a;for(a in e)if(e[a]===t[a])return!0;return!1},H=function(e,t){if(!e)return!1;var a=t.code,n=e.max||1/0,r=e.min||0;return n>=a&&a>=r?!0:!1},A=function(e,t){return e?e(t):!1},L=function(e,t){return N(e,t)?e.disabled=!0:D(t.disable,e)&&(e.disabled=!0),D(t.enable,e)&&(e.disabled=!1),"undefined"==typeof e.disabled&&(e.disabled=!1),e},N=function(e,t){return e.code<t.start||e.code>t.end?!0:!1},e=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},a=function(a){return e(a)||t(a)},n=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},r=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},o=function(e,t){var a,n=t.split(" ");for(a in n)e.classList?e.classList.add(n[a]):e.className+=" "+n[a]},i=function(e){return/^[a-z_-][a-z\d_-]*$/i.test(e)?!0:!1},d=function(e){var t,a=e.split(" ");for(t in a)if(!i(a[t]))return!0;return!1},c=function(){var e=document.getElementById("almanac-style"),t="[data-almanac]{padding:.5%}[data-almanac] *{text-align:center;box-sizing:border-box}[data-almanac] header{width:98%}[data-almanac] a.floatleft{float:left;background:#333;color:#fff;padding:.4em;cursor:pointer}[data-almanac] a.floatright{float:right;background:#333;color:#fff;padding:.4em;cursor:pointer}[data-almanac],[data-almanac] [data-almamonth],[data-almanac] header,[data-almanac] label{float:left;border:1px solid #aaa;border-radius:.3em;background-color:#fff;color:#333;line-height:2.5em}[data-almanac] [data-almaday],[data-almanac] [data-almamonth] header{height:12.28%;margin:1%}[data-almanac] [data-almamonth]{width:21em;height:21em;padding:.5em;margin:.5em;overflow:hidden}[data-almanac] [data-almamonth].hidden{width:0;margin:0;padding:0;height:0;border:0}[data-almanac] [data-almamonth] header{height:12.28%}[data-almanac] [data-almaday]{float:left;width:12.28%}[data-almanac] [data-almaday] input{display:none}[data-almanac] [data-almaday] label{width:100%;height:100%;cursor:pointer;transition:all .3s}[data-almanac] [data-almaday]:hover label{background:#333;color:#fff}[data-almanac] [data-almaday] input[type=checkbox]:checked+label,[data-almanac] [data-almaday] input[type=radio]:checked+label{background-color:#333;color:#fff}[data-almanac] [data-almaday] input[type=checkbox]:disabled+label,[data-almanac] [data-almaday] input[type=radio]:disabled+label{background-color:#aaa;color:#fff}";null===e&&(e=document.createElement("style"),e.type="text/css",e.setAttribute("id","almanac-style"),document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)))},l=function(e){return e&&"[object Array]"==={}.toString.call(e)},s=function(e){return 10>e?"0"+e:e.toString()},u=function(e){return Number(e.getFullYear()+""+s(e.getMonth()+1))},m=function(e,t){return Number(e.code+""+s(t))},p=function(e,t){var a=new Date(e.year,e.month-1,t+1);return{date:a,code:m(e,t+1),year:e.year,month:e.month,day:s(t+1),weekDay:a.getDay()}},f=function(e){var t=u(e);return{code:t,year:t.toString().slice(0,4),month:t.toString().slice(4,6)}},y=function(e,t){return new Date(Number(e),Number(t),0).getDate()},h=function(e){var t;if(12!==e.length)return!1;for(t in e)if("string"!=typeof e[t])return!1;return!0},k=function(e){return e=0===e?6*14.28:14.28*(e-1),'<div style="float:left;width:'+e+'%;text-indent:-999999px;">.</div>'},b=function(e,t,a){e.addEventListener?e.addEventListener(t,a):e.attachEvent("on"+t,a)},g=function(e,t){var a,n,r=99999999;e=Number(e);for(a in t)n=Number(t[a].data.code),n>e&&r>n&&(r=t[a].data.code);return r},M=function(e,t,a){var n=g(a,t);99999999===n?e.appendChild(t[a].el):e.insertBefore(t[a].el,t[n].el)},w=function(e,t){var a;for(a in t)if(t[a].code===e)return!0;return!1},E=function(e,t){var n=t||{};if(n.cursor=0,n.revealed=[],n.binding=n.onChange||function(){},!e)throw new Error("Missing target argument creating Almanac");if(!a(e))throw new Error("Target has to be a DOM element");if(t&&"object"!=typeof t)throw new Error("options has to be a object");if(n.name=n.name||e.getAttribute("name")||!1,!n.name)throw new Error("Almanac element needs a name");if(n.start=n.start||0,n.end=n.end||1/0,n.multi=n.multi||!1,n.showMonths=n.showMonths||1,"number"!=typeof n.showMonths||n.showMonths<1||n.showMonths%1!==0)throw new Error("Invalid showMonths property");if(n.id=n.id||e.getAttribute("id")||!1,n.id&&("string"!=typeof n.id||!i(n.id)))throw new Error("Invalid id property");if(n.classes&&("string"!=typeof n.classes||d(n.classes)))throw new Error("Invalid classes property");if(n.monthNames=n.monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"],!l(n.monthNames)||!h.call(this,n.monthNames)||12!==n.monthNames.length)throw new Error("Invalid monthNames property");if(n.firstDay=n.firstDay||new Date,"[object Date]"!==Object.prototype.toString.call(n.firstDay))throw new Error("Invalid firstDay property");return n.noHeader=n.noHeader||!1,n.noMonthHeader=n.noHeader&&1===n.showMonths?n.noMonthHeader||!1:n.noMonthHeader||!0,n},T=function(e){var t,a=new Date(e.firstDay),n=0,r=e.revealed=[],o=this.months;for(a.setMonth(a.getMonth()+e.cursor);n<e.showMonths;)t=new Date(a),t.setMonth(t.getMonth()+n),r.push(f(t)),n++;for(n in r)o[r[n].code]||(o[r[n].code]=createMonth(r[n]),M(target,o,r[n].code));for(n in o)w(o[n].data.code,r)?o[n].show():o[n].hide()},v=function(e,t){var a,i,d,l,s,h,u,m;return a=E(e,t),s=function(e){var t,a,n;a=this.left=document.createElement("a"),n=this.right=document.createElement("a"),a.innerHTML="&lt;",n.innerHTML="&gt;",a.setAttribute("class","floatleft"),n.setAttribute("class","floatright"),a.onclick=function(){i.prev()},n.onclick=function(){i.next()},t=document.createElement("header"),e&&(t.innerHTML=e),t.appendChild(a),t.appendChild(n),this.el=t},h=function(e){return l=function(e){var t,n,r,o=this;e.checked=!1,e.name=a.name,e.id=e.name+""+e.code,t=this.el=document.createElement("div"),t.setAttribute("data-almaday",e.code),n=this.lab=document.createElement("label"),r=this.inp=document.createElement("input"),r.disabled=e.disabled?!0:!1,n.innerHTML=e.day,n.setAttribute("for",e.id),r.type=a.multi?"checkbox":"radio",r.name=a.multi?e.id:e.name,r.id=e.id,r.value=e.code,b(r,"change",function(t){e.checked=t.target.checked?!0:!1,a.binding(e.checked,o.getInfo())}),t.appendChild(r),t.appendChild(n),i.days[e.code]=this},l.prototype.check=function(t){(!this.isChecked()||t)&&(this.inp.checked=!0,e.checked=!0,a.binding(!0,this.getInfo()))},l.prototype.uncheck=function(t){(this.isChecked()||t)&&(this.inp.checked=!1,e.checked=!1,a.binding(!1,this.getInfo()))},l.prototype.isChecked=function(){return e.checked},l.prototype.isDisabled=function(){return e.disabled?!0:!1},l.prototype.disable=function(){e.disabled=!0,this.inp.disabled=!0},l.prototype.enable=function(){e.disabled=!0,this.inp.disabled=!1},l.prototype.getCode=function(){return e.code},l.prototype.getInfo=function(){return{date:e.date,year:e.year,month:e.month,day:e.day,code:e.code,num:Number(e.day),weekDay:e.weekDay,disabled:e.disabled}},new l(e)},u=function(e){var t,o={};return d=function(e){var n,r,d=0;for(n=this.days=[],i.months[e.code]=this,this.data=e,e.n=y(e.year,e.month),e.visible=!1,r=this.el=document.createElement("div"),r.setAttribute("data-almamonth",e.code),t=a.monthNames[Number(e.month)-1]+" "+e.year.slice(2,4),a.noMonthHeader?(this.header=document.createElement("header"),this.header.innerHTML=t,this.el.appendChild(this.header)):r.appendChild(new s(t).el),r.innerHTML+=k(new Date(e.year,e.month-1,1).getDay());d<e.n;)o[d]=p(e,d),o[d]=L(o[d],a),n.push(h(o[d])),r.appendChild(n[d].el),d++},d.prototype.show=function(){this.visible=!0,r(this.el,"hidden")},d.prototype.hide=function(){this.visible=!1,n(this.el,"hidden")},d.prototype.isVisible=function(){return this.visible},new d(e)},m=function(){this.months={},this.days={},this.el=e,i=I[a.name]=this,c(),e.setAttribute("name",a.name),a.id&&e.setAttribute("id",a.id),a.classes&&o(e,a.classes),e.setAttribute("data-almanac",""),a.noHeader||(a.header=new s(a.title),e.appendChild(a.header.el)),T.call(this,a)},m.prototype.next=function(){a.cursor++,T.call(this)},m.prototype.prev=function(){a.cursor--,T.call(this)},m.prototype.get=function(e){return a[e]},new m},I.createCalendar=v,I.list=function(){return j},I.reset=function(){},I.clean=function(){},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=I:"undefined"!=typeof window&&(window.almanac=I)}();